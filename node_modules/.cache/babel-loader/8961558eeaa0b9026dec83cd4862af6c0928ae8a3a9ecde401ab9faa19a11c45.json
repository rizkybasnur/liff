{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport api from \"@/plugins/axios\";\nexport default {\n  data() {\n    return {\n      input: {\n        username: \"\",\n        password: \"\"\n      },\n      isSnackbar: false,\n      snackbarText: \"\",\n      timeout: \"1000\"\n    };\n  },\n  methods: {\n    onSubmit() {\n      if (!this.$refs.form.validate()) return;\n      const payload = this.input;\n      api.post(\"/login\", payload).then(response => {\n        this.$store.dispatch(\"updateAdminStatus\", response.data.isAdmin);\n        this.$store.dispatch(\"updateLoginStatus\", true);\n        this.isSnackbar = true;\n        this.snackbarText = response.data.message;\n        setTimeout(() => {\n          if (response.data.isAdmin) this.$router.push(\"/create\");\n          if (!response.data.isAdmin) this.$router.push(\"/\");\n        }, 1000);\n      }).catch(error => {\n        this.isSnackbar = true;\n        this.snackbarText = error;\n      });\n    }\n  }\n};","map":{"version":3,"names":["api","data","input","username","password","isSnackbar","snackbarText","timeout","methods","onSubmit","$refs","form","validate","payload","post","then","response","$store","dispatch","isAdmin","message","setTimeout","$router","push","catch","error"],"sources":["src/views/LoginView.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row>\n      <v-col cols=\"12\" class=\"d-flex justify-center align-center\">\n        LOGIN\n      </v-col>\n    </v-row>\n    <v-row justify=\"center\">\n      <v-col cols=\"4\">\n        <v-form ref=\"form\" lazy-validation>\n          <div>\n            <v-text-field\n              v-model=\"input.username\"\n              outlined\n              :rules=\"[(value) => !!value || '*wajib diisi.']\"\n              label=\"Username\"\n              placeholder=\"Username\"\n            >\n            </v-text-field>\n          </div>\n          <div>\n            <v-text-field\n              v-model=\"input.password\"\n              outlined\n              :rules=\"[(value) => !!value || '*wajib diisi.']\"\n              label=\"Password\"\n              placeholder=\"Password\"\n              type=\"password\"\n              @keydown.enter=\"onSubmit\"\n            >\n            </v-text-field>\n          </div>\n          <v-btn block @click=\"onSubmit\">Login</v-btn>\n        </v-form>\n        <v-snackbar v-model=\"isSnackbar\" :timeout=\"timeout\">\n          {{ snackbarText }}\n        </v-snackbar>\n        <!-- <div class=\"text-center\">\n          <a> Create Account </a>\n        </div> -->\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport api from \"@/plugins/axios\";\nexport default {\n  data() {\n    return {\n      input: {\n        username: \"\",\n        password: \"\",\n      },\n      isSnackbar: false,\n      snackbarText: \"\",\n      timeout: \"1000\",\n    };\n  },\n  methods: {\n    onSubmit() {\n      if (!this.$refs.form.validate()) return;\n\n      const payload = this.input;\n\n      api\n        .post(\"/login\", payload)\n        .then((response) => {\n          this.$store.dispatch(\"updateAdminStatus\", response.data.isAdmin);\n          this.$store.dispatch(\"updateLoginStatus\", true);\n          this.isSnackbar = true;\n          this.snackbarText = response.data.message;\n          setTimeout(() => {\n            if (response.data.isAdmin) this.$router.push(\"/create\");\n            if (!response.data.isAdmin) this.$router.push(\"/\");\n          }, 1000);\n        })\n        .catch((error) => {\n          this.isSnackbar = true;\n          this.snackbarText = error;\n        });\n    },\n  },\n};\n</script>\n"],"mappings":";AA8CA,OAAAA,GAAA;AACA;EACAC,KAAA;IACA;MACAC,KAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAC,UAAA;MACAC,YAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACAC,SAAA;MACA,UAAAC,KAAA,CAAAC,IAAA,CAAAC,QAAA;MAEA,MAAAC,OAAA,QAAAX,KAAA;MAEAF,GAAA,CACAc,IAAA,WAAAD,OAAA,EACAE,IAAA,CAAAC,QAAA;QACA,KAAAC,MAAA,CAAAC,QAAA,sBAAAF,QAAA,CAAAf,IAAA,CAAAkB,OAAA;QACA,KAAAF,MAAA,CAAAC,QAAA;QACA,KAAAb,UAAA;QACA,KAAAC,YAAA,GAAAU,QAAA,CAAAf,IAAA,CAAAmB,OAAA;QACAC,UAAA;UACA,IAAAL,QAAA,CAAAf,IAAA,CAAAkB,OAAA,OAAAG,OAAA,CAAAC,IAAA;UACA,KAAAP,QAAA,CAAAf,IAAA,CAAAkB,OAAA,OAAAG,OAAA,CAAAC,IAAA;QACA;MACA,GACAC,KAAA,CAAAC,KAAA;QACA,KAAApB,UAAA;QACA,KAAAC,YAAA,GAAAmB,KAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}